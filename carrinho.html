<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Amicãozão</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='carrinho.css'>
    <script src='main.js'></script>
    <link rel="icon" href="logo(cima).png">
</head>
<body padding:0%>
		<header>
			<div class="barra">
				<a href="index.html">
				<img src="logotransparente.png" width="65" height="65" class="logo" >
				</a>
				<ul>
					<li><a href="adestramento.html">Adestramento</a></li>
					<li><a href="dogwalker.html">Dog Walker</a></li>
					<li><a href="petsitter.html">Pet Sitter</a></li>
						<li><a href="#">Produtos</a>
							<ul>
								<li>
									<a href="brinquedos.html">Brinquedos</a>
								</li>
								<li>
									<a href="petiscos.html">Petiscos</a>
								</li>
								<li>
									<a href="coleiras.html">Coleiras</a>
								</li>
								<li>
									<a href="equipamentos.html">Equip. Adestramento</a>
								</li>
							</ul>
						</li>
					<li><a href="login.html">Login</a></li>
				</ul>
				<a href="carrinho.html">
				<img src="Carrinho.png" width="50" height="50" class="carrinho">
				</a>
			</div>
		</header>
		<div class="linha">
			<h1 class="titulo">Carrinho de Compras</h1>
			<img src="Carrinho.png" class="imagem">
		</div>
		<div class="painel">
			<div class="itens" id="itens"> </div>
			<div class="total">Total: <span id="total"></span> </div>
		
			<script>
				var total = 0; // variável que retorna o total dos produtos que estão na LocalStorage.
				var i = 0;     // variável que irá percorrer as posições
				var valor = 0; // variável que irá receber o preço do produto convertido em Float.
		
				for(i=1; i<=99; i++) // verifica até 99 produtos registrados na localStorage
				{
					var prod = localStorage.getItem("produto" + i + ""); // verifica se há recheio nesta posição.
					if(prod != null) 
					{	
						// exibe os dados da lista dentro da div itens
						document.getElementById("itens").innerHTML += localStorage.getItem("qtd" + i) + " x ";
						document.getElementById("itens").innerHTML += localStorage.getItem("produto" + i);
						document.getElementById("itens").innerHTML += " ";
						document.getElementById("itens").innerHTML += "R$: " + localStorage.getItem("valor" + i) + "<hr>";
		
						// calcula o total dos recheios
						valor = parseFloat(localStorage.getItem("valor" + i)); // valor convertido com o parseFloat()
						total = (total + valor); // arredonda para 2 casas decimais com o .toFixed(2)
					}
				} 
				// exibe o total dos recheios
				document.getElementById("total").innerHTML = total.toFixed(2); 
			</script>		
			<button class="limpar" type="button" onclick="localStorage.clear(); location.reload();">Limpar carrinho 
			</button>
		</div>	
		<button type="button" class="voltar"><a href="index.html">Voltar as Compras</a></button>
		<button type="button"><a href="formapagamento.html" class="formas">Formas de Pagamento</a></button>		
	</body>
</html>